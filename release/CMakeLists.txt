# package
set(CPACK_PACKAGE_VERSION_MAJOR ${LGRAPH_VERSION_MAJOR})
set(CPACK_PACKAGE_VERSION_MINOR ${LGRAPH_VERSION_MINOR})
set(CPACK_PACKAGE_VERSION_PATCH ${LGRAPH_VERSION_PATCH})
set(CPACK_PACKAGE_NAME "TuGraph")
set(CPACK_PACKAGE_DESCRIPTION "TuGraph is an efficient graph database.")
set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "TuGraph Graph Database.")
set(CMAKE_INSTALL_PREFIX "/usr/local")
set(CPACK_PACKAGING_INSTALL_PREFIX "/usr/local")
set(CPACK_RPM_PACKAGE_PROVIDES "libc.so.6(GLIBC_PRIVATE)(64bit)")
set(CPACK_RPM_PACKAGE_ARCHITECTURE "x86_64")
if (OURARCH STREQUAL "arm")
    set(CPACK_RPM_PACKAGE_ARCHITECTURE "aarch64")
endif()
set(CPACK_DEBIAN_PACKAGE_RELEASE "1")
set(CPACK_RPM_PACKAGE_RELEASE "1.el7")
if (ENABLE_PREDOWNLOAD_DEPENDS_PACKAGE)
    set(CPCK_DEBIAN_PACKAGE_DEPENDS "python, python-pip")
    set(CPACK_RPM_PACKAGE_REQUIRES "python >= 2.5.0, python2-pip >= 8.1.2")
    set(CPACK_DEBIAN_PACKAGE_CONTROL_EXTRA "${CMAKE_SOURCE_DIR}/src/python/FMA_shell/pkg/postinst;${CMAKE_SOURCE_DIR}/src/python/FMA_shell/pkg/prerm;")
    set(CPACK_RPM_POST_INSTALL_SCRIPT_FILE "${CMAKE_SOURCE_DIR}/src/python/FMA_shell/pkg/postinst")
    set(CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE "${CMAKE_SOURCE_DIR}/src/python/FMA_shell/pkg/prerm")
endif ()


if (OURSYSTEM STREQUAL "centos")
    set(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION_MAJOR}.${CPACK_PACKAGE_VERSION_MINOR}.${CPACK_PACKAGE_VERSION_PATCH}-${CPACK_RPM_PACKAGE_RELEASE}.${CPACK_RPM_PACKAGE_ARCHITECTURE}")
    set(CPACK_GENERATOR "RPM")
elseif (OURSYSTEM STREQUAL "ubuntu")
    set(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME}-${CPACK_PACKAGE_VERSION_MAJOR}.${CPACK_PACKAGE_VERSION_MINOR}.${CPACK_PACKAGE_VERSION_PATCH}-${CPACK_DEBIAN_PACKAGE_RELEASE}.${CPACK_RPM_PACKAGE_ARCHITECTURE}")
    set(CPACK_GENERATOR "DEB")
else ()
    set(CPACK_GENERATOR "TGZ")
endif ()

set(CPACK_RPM_PACKAGE_URL "https://tugraph.org")
set(CPACK_DEBIAN_PACKAGE_MAINTAINER "ADMIN")

include(CPack)
